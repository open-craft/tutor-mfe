# MFE-specific settings
{% if get_mfe("course-authoring") %}
COURSE_AUTHORING_MICROFRONTEND_URL = "{% if ENABLE_HTTPS %}https://{% else %}http://{% endif %}{{ MFE_HOST }}/course-authoring"
{% endif %}

LOGIN_REDIRECT_WHITELIST.append("{{ MFE_HOST }}")
CORS_ORIGIN_WHITELIST.append("{% if ENABLE_HTTPS %}https://{% else %}http://{% endif %}{{ MFE_HOST }}")
CORS_ORIGIN_WHITELIST.append("https://*")
CSRF_TRUSTED_ORIGINS.append("https://*")
CSRF_TRUSTED_ORIGINS.append("{% if ENABLE_HTTPS %}https://{% else %}http://{% endif %}{{ MFE_HOST }}")
CSRF_TRUSTED_ORIGINS.append("{% if ENABLE_HTTPS %}https://{% else %}http://{% endif %}*.{{ MFE_HOST }}")
CSRF_TRUSTED_ORIGINS.append("{% if ENABLE_HTTPS %}https://{% else %}http://{% endif %}*.tagging-preview.staging.do.opencraft.hosting")
ALLOWED_HOSTS.append("{{ MFE_HOST }}")
ALLOWED_HOSTS.append("tagging-preview.staging.do.opencraft.hosting")
ALLOWED_HOSTS.append("*")
CSRF_COOKIE_SECURE = True
MIDDLEWARE = ['openedx.core.lib.x_forwarded_for.middleware.XForwardedForMiddleware', 'edx_django_utils.security.csp.middleware.content_security_policy_middleware', 'crum.CurrentRequestUserMiddleware', 'edx_django_utils.cache.middleware.RequestCacheMiddleware', 'edx_django_utils.monitoring.CookieMonitoringMiddleware', 'edx_django_utils.monitoring.DeploymentMonitoringMiddleware', 'edx_django_utils.monitoring.MonitoringMemoryMiddleware', 'openedx.core.djangoapps.cookie_metadata.middleware.CookieNameChange', 'openedx.core.djangoapps.header_control.middleware.HeaderControlMiddleware', 'django.middleware.cache.UpdateCacheMiddleware', 'django.middleware.common.CommonMiddleware', 'django.contrib.sites.middleware.CurrentSiteMiddleware', 'corsheaders.middleware.CorsMiddleware', 'openedx.core.djangoapps.cors_csrf.middleware.CorsCSRFMiddleware', 'edx_rest_framework_extensions.auth.jwt.middleware.JwtAuthCookieMiddleware', 'django_sites_extensions.middleware.RedirectMiddleware', 'openedx.core.djangoapps.safe_sessions.middleware.SafeSessionMiddleware', 'method_override.middleware.MethodOverrideMiddleware', 'openedx.core.djangoapps.cache_toolbox.middleware.CacheBackedAuthenticationMiddleware', 'common.djangoapps.student.middleware.UserStandingMiddleware', 'openedx.core.djangoapps.contentserver.middleware.StaticContentServer', 'django.contrib.messages.middleware.MessageMiddleware', 'common.djangoapps.track.middleware.TrackMiddleware', 'openedx.core.djangoapps.lang_pref.middleware.LanguagePreferenceMiddleware', 'openedx.core.djangoapps.dark_lang.middleware.DarkLangMiddleware', 'openedx.core.djangoapps.embargo.middleware.EmbargoMiddleware', 'django.middleware.locale.LocaleMiddleware', 'codejail.django_integration.ConfigureCodeJailMiddleware', 'openedx.core.djangoapps.session_inactivity_timeout.middleware.SessionInactivityTimeout', 'openedx.core.djangoapps.theming.middleware.CurrentSiteThemeMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'waffle.middleware.WaffleMiddleware', 'edx_django_utils.cache.middleware.TieredCacheMiddleware', 'edx_rest_framework_extensions.middleware.RequestCustomAttributesMiddleware', 'edx_rest_framework_extensions.auth.jwt.middleware.EnsureJWTAuthSettingsMiddleware', 'simple_history.middleware.HistoryRequestMiddleware', 'openedx.core.djangoapps.site_configuration.middleware.SessionCookieDomainOverrideMiddleware']
